@using WhiteHat.Components;
@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<div class="page">
    <UpdateAvailable></UpdateAvailable>
    <header>
        <img src="img/Logo.png" class="icon"/>
        <div class="navigation">
            <div>
                <NavLink class="nav" href="" Match="NavLinkMatch.All">
                    Best
                </NavLink>
                <NavLink class="nav" href="/top">
                    Top
                </NavLink>
                <NavLink class="nav" href="/new">
                    New
                </NavLink>
                <NavLink class="nav" href="/ask">
                    Ask HN
                </NavLink>
                <NavLink class="nav" href="/show">
                    Show HN
                </NavLink>
                <NavLink class="nav" href="/job">
                    Jobs
                </NavLink>
            </div>
            <form class="search-container @(string.IsNullOrWhiteSpace(_search) ? string.Empty : "hasvalue")" @onsubmit=Search>
                <input type="text" @bind-value=_search @bind-value:event="oninput" />
                <span class="material-icons-round" @onclick=Search>
                    search
                </span>
            </form>
        </div>
    </header>
    <div class="h-gradient"></div>
    <main>
        @Body
    </main>
    <div class="shortcut-display">
        <div class="col">
            <div class="shortcut">
                <span class="material-icons-round">
                    arrow_upward
                </span>
                <div class="key">
                </div>
                <p>
                    Last post
                    <span>
                        w
                    </span>
                </p>
            </div>
            <div class="shortcut">
                <span class="material-icons-round">
                    arrow_downward
                </span>
                <div class="key">
                </div>
                <p>
                    Next post
                    <span>
                        s
                    </span>
                </p>
            </div>
        </div>
        <div class="col">
            <div class="shortcut">
                <span class="material-icons-round">
                    notes
                </span>
                <div class="key">
                </div>
                <p>
                    Comments
                    <span>
                        a
                    </span>
                </p>
            </div>
            <div class="shortcut">
                <span class="material-icons-round">
                    article
                </span>
                <div class="key">
                </div>
                <p>
                    Expand
                    <span>
                        e
                    </span>
                </p>
            </div>
        </div>
        <div class="col">
            <div class="shortcut">
                <span class="material-icons-round">
                    vertical_split
                </span>
                <div class="key">
                </div>
                <p>
                    Open here
                    <span>
                        d
                    </span>
                </p>
            </div>
            <div class="shortcut">
                <span class="material-icons-round">
                    open_in_new
                </span>
                <div class="key">
                </div>
                <p>
                    Open in new tab
                    <span>
                        o
                    </span>
                </p>
            </div>
        </div>
     </div>
</div>
@code{
    private string _search;
    private bool _updated;

    private void Search(){
        if(!string.IsNullOrWhiteSpace(_search)){
            NavigationManager.NavigateTo("/search/" + _search);
            _search = string.Empty;
        }
    }
}